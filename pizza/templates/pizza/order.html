{% extends "pizza/base.html" %}


{% block body %}

{% load widget_tweaks %}

<div class="container">
    
    <h1>Order Page</h1>
    
    <!-- {% if messages %}
        {% for message in messages %}
        {{ message }}
        {% endfor %}
        {% endif %} -->
        
        <form action="{% url 'order' %}" method="POST">
            {% csrf_token %}            
            
            {% comment %}
            {% for field in form.fields %}
            <div class="form-group row p-2">
                {{ field.errors }}
                <div class="col-sm-2 col-form-label">
                    {{ field.label_tag }}
                </div>
                <div class="col-sm-10">
                    {% render_field field class="form-select" %}
                </div>
            </div>
            {% endfor %}                
            {% endcomment %}
            
            <div class="form-group row p-2">
                {{ form.size.errors }}
                <div class="col-sm-1 col-form-label">
                    {{ form.size.label_tag }}
                </div>
                <div class="col-sm-10">
                    {% render_field form.size class="form-radio" %}
                </div>
            </div>
    
            <div class="form-group row p-2">
                {{ form.topping.errors }}
                <div class="col-sm-1 col-form-label">
                    {{ form.topping.label_tag }}
                </div>
                <div class="col-sm-10">
                    {% render_field form.topping class="form-check" %}
                </div>
            </div>

            <div class="form-group row p-2">
                {{ form.customer_name.errors }}
                <div class="col-sm-1 col-form-control">
                    {{ form.customer_name.label_tag }}
                </div>
                <div class="col-sm-10">
                    {% render_field form.customer_name class="form-control" %}
                </div>
            </div>
            
            <div class="form-group row p-2">
                {{ form.phone_number.errors }}
                <div class="col-sm-1 col-form-control">
                    {{ form.phone_number.label_tag }}
                </div>
                <div class="col-sm-10">
                    {% render_field form.phone_number class="form-control" %}
                </div>
            </div>
            
            <div class="form-group row p-2">
                {{ form.address.errors }}
                <div class="col-sm-1 col-form-control">
                    {{ form.address.label_tag }}
                </div>
                <div class="col-sm-10">
                    {% render_field form.address class="form-control" %}
                </div>
            </div>
            
            <input type="submit" class="btn btn-primary" value="Order">

            {% if pizza_pk %}
                <button type="submit" class="btn btn-info">
                    <a style="text-decoration: none;" href="{% url 'edit' pizza_pk %}">Edit Order</a>
                </button>
            {% endif %}

        </form>    
</div>
        
{% endblock body %}
